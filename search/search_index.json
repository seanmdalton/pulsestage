{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"PulseStage","text":"<p>Open-source Q&amp;A Platform for Town Halls and All-Hands</p> <p> </p> <p>PulseStage helps teams capture questions, surface what matters with up-votes, and publish clear answers\u2014then present it all live. Built as a full-stack AMA-style app with multi-team spaces and role-based controls, it's designed to increase employee engagement and organizational transparency.</p>"},{"location":"#why-pulsestage","title":"Why PulseStage?","text":"<ul> <li>Up-vote\u2013only questions to reduce noise and highlight priorities  </li> <li>Team-based organization for different departments or forums  </li> <li>Role-based admin &amp; moderation (submit, review, respond, publish)  </li> <li>Presenter mode for leadership meetings and all-hands  </li> <li>Search &amp; tags for quick discovery of related topics  </li> <li>Exports for follow-ups and accountability  </li> <li>Self-hostable with Docker (Postgres + Redis), open source (Apache-2.0)</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Get PulseStage running in under 5 minutes:</p> <pre><code>git clone https://github.com/seanmdalton/pulsestage.git\ncd pulsestage\n./setup.sh\ndocker compose up\n</code></pre> <p>Visit http://localhost:3000 to start using PulseStage!</p> <p>For detailed setup instructions, see the Installation Guide.</p>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#multi-team-organization","title":"\ud83c\udfe2 Multi-Team Organization","text":"<ul> <li>Organize questions by Engineering, Product, People, General teams</li> <li>Easy team switching with question counts</li> <li>Team management through Admin panel</li> <li>Shareable URLs like <code>/engineering/open</code> or <code>/product/answered</code></li> </ul>"},{"location":"#question-management","title":"\u2753 Question Management","text":"<ul> <li>Anonymous question submission with team assignment</li> <li>Real-time search with fuzzy matching</li> <li>Upvote system with localStorage protection</li> <li>Full-screen viewing for long questions and answers</li> <li>Status tracking (Open and Answered)</li> </ul>"},{"location":"#role-based-access-control","title":"\ud83d\udc65 Role-Based Access Control","text":"<ul> <li>Viewer: Browse questions anonymously</li> <li>Member: Submit and upvote questions</li> <li>Moderator: Answer questions, tag, present (team-scoped)</li> <li>Admin: Full access including exports and audit logs</li> <li>Owner: Complete control including team management</li> </ul>"},{"location":"#modern-user-experience","title":"\ud83c\udfa8 Modern User Experience","text":"<ul> <li>Beautiful, responsive design with dark mode</li> <li>Real-time updates via Server-Sent Events (SSE)</li> <li>Presentation mode optimized for large displays</li> <li>Search results with live typing feedback</li> <li>Profile management with favorite teams</li> </ul>"},{"location":"#security-compliance","title":"\ud83d\udd12 Security &amp; Compliance","text":"<ul> <li>Comprehensive audit logging</li> <li>Team-scoped permissions</li> <li>Tenant isolation for multi-tenancy</li> <li>Session-based authentication</li> <li>Rate limiting on all endpoints</li> </ul>"},{"location":"#technology-stack","title":"Technology Stack","text":"<ul> <li>Frontend: React 19, TypeScript, Tailwind CSS, Vite</li> <li>Backend: Node.js 20, Express, TypeScript</li> <li>Database: PostgreSQL 16 with Prisma ORM</li> <li>Cache: Redis 7 for rate limiting</li> <li>Testing: Vitest, Playwright E2E</li> <li>Deployment: Docker Compose</li> </ul>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Getting Started - Installation and first steps</li> <li>User Guide - How to use PulseStage</li> <li>Admin Guide - Managing teams, users, and settings</li> <li>Architecture - Technical design and decisions</li> <li>Security - Security features and best practices</li> <li>API Reference - REST API documentation</li> <li>Development - Contributing and local development</li> </ul>"},{"location":"#license","title":"License","text":"<p>Licensed under the Apache License, Version 2.0. See LICENSE for details.</p>"},{"location":"#support","title":"Support","text":"<ul> <li>\ud83d\udcd6 Documentation</li> <li>\ud83d\udc1b Issue Tracker</li> <li>\ud83d\udcac Discussions</li> </ul>"},{"location":"about/branding/","title":"Branding","text":"<p>Documentation coming soon...</p>"},{"location":"about/changelog/","title":"Changelog","text":"<p>Documentation coming soon...</p>"},{"location":"about/license/","title":"License","text":"<p>Documentation coming soon...</p>"},{"location":"admin-guide/audit-logging/","title":"Audit Logging","text":"<p>Documentation coming soon...</p>"},{"location":"admin-guide/export/","title":"Export","text":"<p>Documentation coming soon...</p>"},{"location":"admin-guide/overview/","title":"Overview","text":"<p>Documentation coming soon...</p>"},{"location":"admin-guide/roles-permissions/","title":"Roles Permissions","text":"<p>Documentation coming soon...</p>"},{"location":"admin-guide/tag-management/","title":"Tag Management","text":"<p>Documentation coming soon...</p>"},{"location":"admin-guide/team-management/","title":"Team Management","text":"<p>Documentation coming soon...</p>"},{"location":"api/admin/","title":"Admin","text":"<p>Documentation coming soon...</p>"},{"location":"api/authentication/","title":"Authentication","text":"<p>Documentation coming soon...</p>"},{"location":"api/overview/","title":"Overview","text":"<p>Documentation coming soon...</p>"},{"location":"api/questions/","title":"Questions","text":"<p>Documentation coming soon...</p>"},{"location":"api/tags/","title":"Tags","text":"<p>Documentation coming soon...</p>"},{"location":"api/teams/","title":"Teams","text":"<p>Documentation coming soon...</p>"},{"location":"api/users/","title":"Users","text":"<p>Documentation coming soon...</p>"},{"location":"architecture/authentication/","title":"Authentication","text":"<p>Documentation coming soon...</p>"},{"location":"architecture/database-schema/","title":"Database Schema","text":"<p>Documentation coming soon...</p>"},{"location":"architecture/multi-tenancy/","title":"Multi Tenancy","text":"<p>Documentation coming soon...</p>"},{"location":"architecture/real-time/","title":"Real Time","text":"<p>Documentation coming soon...</p>"},{"location":"architecture/system-design/","title":"System Design","text":"<p>Documentation coming soon...</p>"},{"location":"deployment/docker-compose/","title":"Docker Compose","text":"<p>Documentation coming soon...</p>"},{"location":"deployment/environment/","title":"Environment","text":"<p>Documentation coming soon...</p>"},{"location":"deployment/monitoring/","title":"Monitoring","text":"<p>Documentation coming soon...</p>"},{"location":"deployment/production/","title":"Production","text":"<p>Documentation coming soon...</p>"},{"location":"development/code-style/","title":"Code Style","text":"<p>Documentation coming soon...</p>"},{"location":"development/contributing/","title":"Contributing","text":"<p>Documentation coming soon...</p>"},{"location":"development/migrations/","title":"Migrations","text":"<p>Documentation coming soon...</p>"},{"location":"development/running-locally/","title":"Running Locally","text":"<p>Documentation coming soon...</p>"},{"location":"development/setup/","title":"Setup","text":"<p>Documentation coming soon...</p>"},{"location":"development/testing/","title":"Testing","text":"<p>Documentation coming soon...</p>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Documentation coming soon...</p>"},{"location":"getting-started/first-steps/","title":"First Steps","text":"<p>Documentation coming soon...</p>"},{"location":"getting-started/installation/","title":"Installation Guide","text":"<p>This guide provides detailed instructions for installing PulseStage in various environments.</p>"},{"location":"getting-started/installation/#system-requirements","title":"System Requirements","text":""},{"location":"getting-started/installation/#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>CPU: 2 cores</li> <li>RAM: 2GB</li> <li>Disk: 10GB free space</li> <li>OS: Linux, macOS, or Windows with WSL2</li> </ul>"},{"location":"getting-started/installation/#software-requirements","title":"Software Requirements","text":"<ul> <li>Docker 20.10+ and Docker Compose 2.0+</li> <li>Git 2.30+</li> <li>(Optional) Node.js 20+ for local development</li> </ul>"},{"location":"getting-started/installation/#docker-compose-installation-recommended","title":"Docker Compose Installation (Recommended)","text":"<p>The easiest way to run PulseStage is with Docker Compose.</p>"},{"location":"getting-started/installation/#1-clone-repository","title":"1. Clone Repository","text":"<pre><code>git clone https://github.com/seanmdalton/pulsestage.git\ncd pulsestage\n</code></pre>"},{"location":"getting-started/installation/#2-configure-environment","title":"2. Configure Environment","text":"<pre><code>./setup.sh\n</code></pre> <p>Or manually create <code>.env</code>:</p> <pre><code>cp env.example .env\n</code></pre> <p>Edit <code>.env</code> and set: - <code>SESSION_SECRET</code> - Random 32+ character string - <code>ADMIN_SESSION_SECRET</code> - Different random 32+ character string - <code>CORS_ORIGIN</code> - Your frontend URL (default: http://localhost:3000)</p>"},{"location":"getting-started/installation/#3-start-services","title":"3. Start Services","text":"<pre><code>docker compose up -d\n</code></pre>"},{"location":"getting-started/installation/#4-initialize-database","title":"4. Initialize Database","text":"<p>The database is automatically initialized with: - Default tenant - Sample teams - Test users</p>"},{"location":"getting-started/installation/#5-verify-installation","title":"5. Verify Installation","text":"<p>Check all services are running:</p> <pre><code>docker compose ps\n</code></pre> <p>Expected output: <pre><code>NAME                IMAGE               STATUS\nama-app-api-1       ama-app-api         Up\nama-app-db-1        postgres:16-alpine  Up\nama-app-redis-1     redis:7-alpine      Up\nama-app-web-1       ama-app-web         Up\n</code></pre></p>"},{"location":"getting-started/installation/#6-access-application","title":"6. Access Application","text":"<ul> <li>Web UI: http://localhost:3000</li> <li>API: http://localhost:5001</li> <li>API Docs: http://localhost:5001/api-docs</li> </ul>"},{"location":"getting-started/installation/#local-development-installation","title":"Local Development Installation","text":"<p>For active development without Docker:</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<pre><code>node --version  # Should be 20.x\nnpm --version   # Should be 10.x\n</code></pre>"},{"location":"getting-started/installation/#1-install-dependencies","title":"1. Install Dependencies","text":"<pre><code># Install API dependencies\ncd api\nnpm install\n\n# Install Web dependencies\ncd ../web\nnpm install\n</code></pre>"},{"location":"getting-started/installation/#2-start-external-services","title":"2. Start External Services","text":"<pre><code># Start PostgreSQL and Redis via Docker\ndocker compose up db redis -d\n</code></pre>"},{"location":"getting-started/installation/#3-configure-environment","title":"3. Configure Environment","text":"<pre><code>cp env.example .env\n# Edit .env with your settings\n</code></pre>"},{"location":"getting-started/installation/#4-run-database-migrations","title":"4. Run Database Migrations","text":"<pre><code>cd api\nnpx prisma migrate dev\nnpx prisma db seed\n</code></pre>"},{"location":"getting-started/installation/#5-start-development-servers","title":"5. Start Development Servers","text":"<p>In separate terminals:</p> <pre><code># Terminal 1: API server\ncd api\nnpm run dev\n\n# Terminal 2: Web frontend\ncd web\nnpm run dev\n</code></pre>"},{"location":"getting-started/installation/#6-access-development-environment","title":"6. Access Development Environment","text":"<ul> <li>Web UI: http://localhost:5173 (Vite dev server)</li> <li>API: http://localhost:5001</li> </ul>"},{"location":"getting-started/installation/#production-deployment","title":"Production Deployment","text":"<p>See Deployment Guide for production setup instructions.</p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#port-conflicts","title":"Port Conflicts","text":"<p>If ports 3000 or 5001 are already in use, modify <code>docker-compose.yaml</code>:</p> <pre><code>services:\n  web:\n    ports:\n      - \"8080:80\"  # Change 3000 to 8080\n\n  api:\n    ports:\n      - \"5002:5001\"  # Change 5001 to 5002\n</code></pre>"},{"location":"getting-started/installation/#database-connection-errors","title":"Database Connection Errors","text":"<p>Check PostgreSQL is running:</p> <pre><code>docker compose logs db\n</code></pre> <p>Reset database if needed:</p> <pre><code>docker compose down -v\ndocker compose up -d\n</code></pre>"},{"location":"getting-started/installation/#permission-errors","title":"Permission Errors","text":"<p>On Linux, you may need to fix file permissions:</p> <pre><code>sudo chown -R $USER:$USER .\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration Guide - Environment variables</li> <li>First Steps - Getting started with PulseStage</li> <li>Development Setup - For contributors</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get PulseStage up and running in under 5 minutes!</p>"},{"location":"getting-started/quick-start/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose installed</li> <li>Git for cloning the repository</li> <li>At least 2GB RAM available</li> </ul>"},{"location":"getting-started/quick-start/#installation","title":"Installation","text":""},{"location":"getting-started/quick-start/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/seanmdalton/pulsestage.git\ncd pulsestage\n</code></pre>"},{"location":"getting-started/quick-start/#2-run-setup-script","title":"2. Run Setup Script","text":"<p>The setup script creates your environment configuration:</p> <pre><code>./setup.sh\n</code></pre> <p>This will: - Copy <code>env.example</code> to <code>.env</code> - Generate secure session secrets - Set up default configuration</p>"},{"location":"getting-started/quick-start/#3-start-the-services","title":"3. Start the Services","text":"<pre><code>docker compose up\n</code></pre> <p>This will start: - PostgreSQL database on port 5432 - Redis cache on port 6379 - API server on port 5001 - Web frontend on port 3000</p>"},{"location":"getting-started/quick-start/#4-access-pulsestage","title":"4. Access PulseStage","text":"<p>Open your browser and navigate to:</p> <pre><code>http://localhost:3000\n</code></pre>"},{"location":"getting-started/quick-start/#first-steps","title":"First Steps","text":""},{"location":"getting-started/quick-start/#select-a-tenant","title":"Select a Tenant","text":"<p>PulseStage supports multi-tenancy. The default tenant is available at:</p> <pre><code>http://localhost:3000/sso-test.html\n</code></pre>"},{"location":"getting-started/quick-start/#choose-a-test-user","title":"Choose a Test User","text":"<p>You'll see several test users with different roles:</p> <ul> <li>Alice Anderson (admin@example.com) - Admin role</li> <li>Bob Smith (bob@example.com) - Member role</li> <li>Charlie Davis (charlie@example.com) - Member role</li> <li>Mike Chen (mike@example.com) - Moderator of People team</li> <li>Sarah Miller (sarah@example.com) - Moderator of Engineering team</li> </ul>"},{"location":"getting-started/quick-start/#submit-your-first-question","title":"Submit Your First Question","text":"<ol> <li>Click on a user to log in</li> <li>Navigate to any team page</li> <li>Click \"Submit Question\"</li> <li>Enter your question and submit!</li> </ol>"},{"location":"getting-started/quick-start/#whats-next","title":"What's Next?","text":"<ul> <li>Installation Guide - Detailed setup instructions</li> <li>Configuration - Environment variables and settings</li> <li>First Steps - Guided tour of PulseStage</li> </ul>"},{"location":"getting-started/quick-start/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/quick-start/#services-wont-start","title":"Services Won't Start","text":"<p>Check if ports are already in use:</p> <pre><code># Check port 3000 (web)\nlsof -i :3000\n\n# Check port 5001 (api)\nlsof -i :5001\n</code></pre>"},{"location":"getting-started/quick-start/#database-connection-issues","title":"Database Connection Issues","text":"<p>Ensure PostgreSQL is running:</p> <pre><code>docker compose ps\n</code></pre> <p>All services should show \"Up\" status.</p>"},{"location":"getting-started/quick-start/#need-help","title":"Need Help?","text":"<ul> <li>Check the Installation Guide for detailed troubleshooting</li> <li>Visit our GitHub Issues</li> </ul>"},{"location":"moderator-guide/answering-questions/","title":"Answering Questions","text":"<p>Documentation coming soon...</p>"},{"location":"moderator-guide/overview/","title":"Overview","text":"<p>Documentation coming soon...</p>"},{"location":"moderator-guide/presentation-mode/","title":"Presentation Mode","text":"<p>Documentation coming soon...</p>"},{"location":"moderator-guide/tagging/","title":"Tagging","text":"<p>Documentation coming soon...</p>"},{"location":"security/audit-logging/","title":"Audit Logging","text":"<p>Documentation coming soon...</p>"},{"location":"security/ci-scanning/","title":"CI Security Scanning","text":"<p>PulseStage implements comprehensive automated security scanning in our CI/CD pipeline to detect vulnerabilities before they reach production.</p>"},{"location":"security/ci-scanning/#overview","title":"Overview","text":"<p>Every push to <code>main</code> and every pull request triggers:</p> <ol> <li>Semgrep SAST - Static code analysis</li> <li>Trivy Filesystem - Dependency vulnerability scanning</li> <li>Trivy Image - Docker image vulnerability scanning</li> <li>SBOM Generation - Software Bill of Materials</li> </ol> <p>Fail Criteria: Builds fail on High or Critical severity findings.</p>"},{"location":"security/ci-scanning/#scanning-tools","title":"Scanning Tools","text":""},{"location":"security/ci-scanning/#1-semgrep-sast","title":"1. Semgrep (SAST)","text":"<p>What it scans: Source code for security vulnerabilities and code quality issues</p> <p>Rulesets: - <code>p/ci</code> - CI/CD best practices - <code>p/typescript</code> - TypeScript-specific security rules - <code>p/nodejs</code> - Node.js security patterns - <code>p/docker</code> - Dockerfile best practices - <code>p/security-audit</code> - Security audit rules</p> <p>Severity Levels: - ERROR (High/Critical) - Fails the build - WARNING (Medium) - Reported but doesn't fail - INFO (Low) - Informational only</p> <p>Example Output: <pre><code>\ud83d\udd0d Semgrep SAST Results:\n   High/Critical findings: 0\n\u2705 No high/critical security issues found\n</code></pre></p>"},{"location":"security/ci-scanning/#2-trivy-filesystem-scanner","title":"2. Trivy Filesystem Scanner","text":"<p>What it scans: Dependencies in <code>package.json</code>, <code>package-lock.json</code>, and other manifest files</p> <p>Checks for: - Known CVEs in npm packages - Outdated dependencies with security issues - Transitive dependency vulnerabilities</p> <p>Severity Levels: - CRITICAL - Fails the build - HIGH - Fails the build - MEDIUM - Reported only - LOW - Reported only</p> <p>Example Output: <pre><code>\ud83d\udd0d Trivy Filesystem Scan Results:\n   High/Critical vulnerabilities: 2\n\u274c Found 2 high/critical vulnerabilities in dependencies\n  - axios@0.21.1: Improper Input Validation (Severity: HIGH)\n  - express@4.17.1: Information Exposure (Severity: MEDIUM)\n</code></pre></p>"},{"location":"security/ci-scanning/#3-trivy-docker-image-scanner","title":"3. Trivy Docker Image Scanner","text":"<p>What it scans: Built Docker images (<code>api</code> and <code>web</code>)</p> <p>Checks for: - Vulnerabilities in base images (node:20-alpine, etc.) - Vulnerabilities in installed OS packages - Known CVEs in all image layers</p> <p>Matrix Strategy: Scans both <code>api</code> and <code>web</code> images separately</p> <p>Example Output: <pre><code>\ud83d\udd0d Trivy api Image Scan:\n   High/Critical vulnerabilities: 0\n\u2705 No high/critical vulnerabilities found in api image\n</code></pre></p>"},{"location":"security/ci-scanning/#4-sbom-generation-syft","title":"4. SBOM Generation (Syft)","text":"<p>What it generates: Software Bill of Materials in two formats</p> <p>Formats: - SPDX JSON - Industry standard format - CycloneDX JSON - OWASP standard format</p> <p>Retention: 90 days</p> <p>Contents: - All packages and dependencies - Version information - License information - Package relationships</p> <p>Example: <pre><code>\ud83d\udce6 SBOM Generated for api\n   Format: SPDX + CycloneDX JSON\n   Total packages: 342\n   Retention: 90 days\n</code></pre></p>"},{"location":"security/ci-scanning/#workflow-triggers","title":"Workflow Triggers","text":""},{"location":"security/ci-scanning/#automatic-triggers","title":"Automatic Triggers","text":"<ol> <li>Push to main - Full scan on every merge</li> <li>Pull requests - Scan before merge to catch issues early</li> <li>Daily schedule - Runs at 2 AM UTC to catch newly disclosed CVEs</li> </ol>"},{"location":"security/ci-scanning/#manual-trigger","title":"Manual Trigger","text":"<p>You can manually trigger scans from GitHub Actions UI: <pre><code>Actions \u2192 Security Scanning \u2192 Run workflow\n</code></pre></p>"},{"location":"security/ci-scanning/#viewing-results","title":"Viewing Results","text":""},{"location":"security/ci-scanning/#github-security-tab","title":"GitHub Security Tab","text":"<p>Trivy results are automatically uploaded to the GitHub Security tab:</p> <pre><code>Repository \u2192 Security \u2192 Code scanning\n</code></pre> <p>You'll see: - All detected vulnerabilities - Severity levels - Affected files/packages - Remediation guidance</p>"},{"location":"security/ci-scanning/#artifacts","title":"Artifacts","text":"<p>All scan results are uploaded as artifacts:</p> <pre><code>Actions \u2192 [Your workflow run] \u2192 Artifacts\n</code></pre> <p>Download: - <code>semgrep-results</code> - Semgrep SAST findings (JSON) - <code>trivy-fs-results</code> - Filesystem scan results (JSON) - <code>trivy-api-image</code> - API image scan results (JSON) - <code>trivy-web-image</code> - Web image scan results (JSON) - <code>sbom-api</code> - API SBOM (SPDX + CycloneDX) - <code>sbom-web</code> - Web SBOM (SPDX + CycloneDX)</p>"},{"location":"security/ci-scanning/#workflow-summary","title":"Workflow Summary","text":"<p>Each workflow run generates a summary visible in the workflow page:</p> <pre><code>\ud83c\udfaf CI Pipeline Results\n\nSecurity Scanning\n| Job                 | Status  |\n|---------------------|---------|\n| Semgrep SAST        | \u2705 success |\n| Trivy Filesystem    | \u2705 success |\n| Build &amp; Scan Images | \u2705 success |\n\n\ud83d\udce6 SBOM Artifacts\n- API component (SPDX + CycloneDX)\n- Web component (SPDX + CycloneDX)\n</code></pre>"},{"location":"security/ci-scanning/#local-testing","title":"Local Testing","text":"<p>Run security scans locally before pushing:</p>"},{"location":"security/ci-scanning/#semgrep","title":"Semgrep","text":"<pre><code># Install Semgrep\npip install semgrep\n\n# Run scan\nsemgrep --config=auto \\\n  --config=p/ci \\\n  --config=p/typescript \\\n  --config=p/nodejs \\\n  --severity=ERROR \\\n  --severity=WARNING\n</code></pre>"},{"location":"security/ci-scanning/#trivy-filesystem","title":"Trivy Filesystem","text":"<pre><code># Install Trivy (macOS)\nbrew install aquasecurity/trivy/trivy\n\n# Scan dependencies\ntrivy fs . --severity CRITICAL,HIGH\n</code></pre>"},{"location":"security/ci-scanning/#trivy-docker-images","title":"Trivy Docker Images","text":"<pre><code># Build images first\ndocker compose build\n\n# Scan API image\ntrivy image ama-app-api:latest --severity CRITICAL,HIGH\n\n# Scan Web image\ntrivy image ama-app-web:latest --severity CRITICAL,HIGH\n</code></pre>"},{"location":"security/ci-scanning/#generate-sbom-locally","title":"Generate SBOM Locally","text":"<pre><code># Install Syft (macOS)\nbrew install syft\n\n# Build image\ndocker compose build api\n\n# Generate SBOM\nsyft ama-app-api:latest -o spdx-json=sbom-api.spdx.json\nsyft ama-app-api:latest -o cyclonedx-json=sbom-api.cyclonedx.json\n</code></pre>"},{"location":"security/ci-scanning/#handling-vulnerabilities","title":"Handling Vulnerabilities","text":""},{"location":"security/ci-scanning/#when-a-scan-fails","title":"When a Scan Fails","text":"<ol> <li>Review the findings in the workflow logs</li> <li>Assess the risk - Is it a real vulnerability in your context?</li> <li>Remediate:</li> <li>Update dependencies: <code>npm update</code></li> <li>Fix code issues identified by Semgrep</li> <li>Update base Docker images</li> </ol>"},{"location":"security/ci-scanning/#false-positives","title":"False Positives","text":"<p>If a finding is a false positive:</p> <p>Semgrep: Add inline comment <pre><code>// nosemgrep: rule-id-here\nconst example = dangerousOperation();\n</code></pre></p> <p>Trivy: Add to <code>.trivyignore</code> <pre><code>CVE-2021-12345  # False positive - not applicable\n</code></pre></p>"},{"location":"security/ci-scanning/#accepted-risks","title":"Accepted Risks","text":"<p>Document accepted risks in: - <code>.trivyignore</code> with justification - Security documentation - Architecture Decision Records (ADRs)</p>"},{"location":"security/ci-scanning/#best-practices","title":"Best Practices","text":"<ol> <li>Fix vulnerabilities promptly - Don't let them accumulate</li> <li>Review dependencies regularly - Run <code>npm audit</code> locally</li> <li>Keep base images updated - Update Node.js base image quarterly</li> <li>Monitor security advisories - Subscribe to security mailing lists</li> <li>Test locally before pushing - Catch issues early</li> </ol>"},{"location":"security/ci-scanning/#configuration-files","title":"Configuration Files","text":"<ul> <li><code>.semgrepignore</code> - Patterns to exclude from Semgrep scans</li> <li><code>.trivyignore</code> - CVEs to ignore (with justification)</li> <li><code>.github/workflows/ci.yaml</code> - CI workflow configuration</li> </ul>"},{"location":"security/ci-scanning/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security Overview</li> <li>Security Headers</li> <li>RBAC</li> <li>Audit Logging</li> </ul>"},{"location":"security/overview/","title":"Overview","text":"<p>Documentation coming soon...</p>"},{"location":"security/rate-limiting/","title":"Rate Limiting","text":"<p>Documentation coming soon...</p>"},{"location":"security/rbac/","title":"Role-Based Access Control (RBAC)","text":"<p>PulseStage implements a comprehensive RBAC system with five distinct roles and team-scoped permissions.</p>"},{"location":"security/rbac/#roles","title":"Roles","text":""},{"location":"security/rbac/#viewer","title":"Viewer","text":"<ul> <li>Access: Read-only, anonymous access</li> <li>Permissions:</li> <li>Browse questions (open and answered)</li> <li>Use search functionality</li> <li>View team information</li> </ul> <p>Use Case: Public access, unauthenticated users</p>"},{"location":"security/rbac/#member","title":"Member","text":"<ul> <li>Access: Basic authenticated user</li> <li>Permissions:</li> <li>All Viewer permissions</li> <li>Submit questions</li> <li>Upvote questions</li> <li>Manage profile preferences</li> </ul> <p>Use Case: All employees, authenticated users</p>"},{"location":"security/rbac/#moderator","title":"Moderator","text":"<ul> <li>Access: Team-scoped moderation</li> <li>Permissions:</li> <li>All Member permissions  </li> <li>Answer questions (in assigned teams only)</li> <li>Add/remove tags on questions</li> <li>Access presentation mode</li> <li>View admin panel (limited to their teams)</li> </ul> <p>Use Case: Team leads, department managers</p>"},{"location":"security/rbac/#admin","title":"Admin","text":"<ul> <li>Access: Global administrative access</li> <li>Permissions:</li> <li>All Moderator permissions (across all teams)</li> <li>Create and manage teams</li> <li>Create and manage tags</li> <li>Access audit logs</li> <li>Export data</li> <li>View all questions across teams</li> </ul> <p>Use Case: Platform administrators, IT team</p>"},{"location":"security/rbac/#owner","title":"Owner","text":"<ul> <li>Access: Complete system control</li> <li>Permissions:</li> <li>All Admin permissions</li> <li>Manage user roles</li> <li>System configuration</li> </ul> <p>Use Case: System owners, executive admins</p>"},{"location":"security/rbac/#permission-matrix","title":"Permission Matrix","text":"Permission Viewer Member Moderator Admin Owner View questions \u2705 \u2705 \u2705 \u2705 \u2705 Submit questions \u274c \u2705 \u2705 \u2705 \u2705 Upvote questions \u274c \u2705 \u2705 \u2705 \u2705 Answer questions \u274c \u274c \u2705 (team-scoped) \u2705 \u2705 Tag questions \u274c \u274c \u2705 (team-scoped) \u2705 \u2705 Presentation mode \u274c \u274c \u2705 (team-scoped) \u2705 \u2705 Create teams \u274c \u274c \u274c \u2705 \u2705 Manage tags \u274c \u274c \u274c \u2705 \u2705 View audit logs \u274c \u274c \u274c \u2705 \u2705 Export data \u274c \u274c \u274c \u2705 \u2705 Manage roles \u274c \u274c \u274c \u274c \u2705"},{"location":"security/rbac/#team-scoping","title":"Team Scoping","text":"<p>Moderators have team-scoped permissions, meaning:</p> <ul> <li>They can only answer questions from teams they moderate</li> <li>They can only tag questions in their assigned teams</li> <li>They only see questions from their teams in the admin panel</li> <li>Presentation mode is limited to their teams</li> </ul> <p>Example: - Mike (Moderator of \"People\" team) can:   - \u2705 Answer questions in the People team   - \u274c Answer questions in the Engineering team   - \u2705 See \"Admin Panel\" link when viewing People team questions   - \u274c See \"Admin Panel\" link when viewing Engineering team questions</p>"},{"location":"security/rbac/#implementation","title":"Implementation","text":""},{"location":"security/rbac/#backend-enforcement","title":"Backend Enforcement","text":"<p>Permissions are enforced at the API level using middleware:</p> <pre><code>// Team-scoped permission check\napp.post(\"/questions/:id/respond\", \n  extractQuestionTeam(), \n  requirePermission('question.answer', { teamIdParam: 'teamId' }), \n  async (req, res) =&gt; {\n    // Handler\n  }\n);\n</code></pre>"},{"location":"security/rbac/#frontend-ui","title":"Frontend UI","text":"<p>The UI dynamically shows/hides features based on: 1. User's role in the current team 2. Current team context (which team page they're viewing)</p>"},{"location":"security/rbac/#audit-logging","title":"Audit Logging","text":"<p>All permission checks (grants and denials) are logged to the audit log for compliance and security monitoring.</p>"},{"location":"security/rbac/#testing","title":"Testing","text":"<p>RBAC is comprehensively tested with 20+ test scenarios covering: - Team-scoped permissions - Role hierarchy - Cross-tenant isolation - Permission denials</p> <p>See api/src/rbac.test.ts for implementation.</p>"},{"location":"security/rbac/#best-practices","title":"Best Practices","text":"<ol> <li>Principle of Least Privilege: Assign the minimum role needed</li> <li>Team Scoping: Use moderators for department-level moderation</li> <li>Audit Regularly: Review audit logs for suspicious activity</li> <li>Limit Owners: Only assign owner role to trusted administrators</li> </ol>"},{"location":"security/rbac/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security Overview</li> <li>Audit Logging</li> <li>Admin Guide: Roles &amp; Permissions</li> </ul>"},{"location":"security/security-headers/","title":"Security Headers","text":"<p>PulseStage implements comprehensive HTTP security headers using Helmet middleware to protect against common web vulnerabilities.</p>"},{"location":"security/security-headers/#overview","title":"Overview","text":"<p>All API responses include strict security headers following Mozilla Observatory best practices to achieve an A grade or higher.</p>"},{"location":"security/security-headers/#implemented-headers","title":"Implemented Headers","text":""},{"location":"security/security-headers/#content-security-policy-csp","title":"Content-Security-Policy (CSP)","text":"<p>Strict Content Security Policy to prevent XSS attacks:</p> <pre><code>default-src 'self';\nscript-src 'self';\nstyle-src 'self' 'unsafe-inline';\nobject-src 'none';\nbase-uri 'self';\nform-action 'self';\nframe-ancestors 'none';\nupgrade-insecure-requests;\n</code></pre> <p>Features: - No inline scripts allowed (prevents XSS) - Only load resources from same origin - Prevents framing (clickjacking protection) - Automatically upgrades HTTP to HTTPS requests</p>"},{"location":"security/security-headers/#x-frame-options","title":"X-Frame-Options","text":"<pre><code>X-Frame-Options: DENY\n</code></pre> <p>Prevents the site from being embedded in iframes, protecting against clickjacking attacks.</p>"},{"location":"security/security-headers/#x-content-type-options","title":"X-Content-Type-Options","text":"<pre><code>X-Content-Type-Options: nosniff\n</code></pre> <p>Prevents browsers from MIME-type sniffing, reducing exposure to drive-by download attacks.</p>"},{"location":"security/security-headers/#referrer-policy","title":"Referrer-Policy","text":"<pre><code>Referrer-Policy: strict-origin-when-cross-origin\n</code></pre> <p>Only sends the origin (not full URL) in the Referer header for cross-origin requests, protecting user privacy.</p>"},{"location":"security/security-headers/#strict-transport-security-hsts","title":"Strict-Transport-Security (HSTS)","text":"<pre><code>Strict-Transport-Security: max-age=31536000; includeSubDomains; preload\n</code></pre> <p>Forces browsers to only use HTTPS connections for 1 year. Only enabled in production behind HTTPS.</p>"},{"location":"security/security-headers/#cross-origin-opener-policy","title":"Cross-Origin-Opener-Policy","text":"<pre><code>Cross-Origin-Opener-Policy: same-origin\n</code></pre> <p>Ensures that top-level documents do not share a browsing context group with cross-origin documents.</p>"},{"location":"security/security-headers/#cross-origin-resource-policy","title":"Cross-Origin-Resource-Policy","text":"<pre><code>Cross-Origin-Resource-Policy: same-origin\n</code></pre> <p>Prevents other origins from reading the resource.</p>"},{"location":"security/security-headers/#permissions-policy","title":"Permissions-Policy","text":"<pre><code>Permissions-Policy: camera=(), microphone=(), geolocation=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=()\n</code></pre> <p>Disables access to sensitive browser APIs and device features.</p>"},{"location":"security/security-headers/#additional-headers","title":"Additional Headers","text":"<ul> <li><code>Origin-Agent-Cluster: ?1</code> - Provides origin-keyed agent cluster isolation</li> <li><code>X-DNS-Prefetch-Control: off</code> - Disables DNS prefetching</li> <li><code>X-Download-Options: noopen</code> - Prevents IE from executing downloads</li> <li><code>X-Powered-By: (removed)</code> - Hides server technology</li> </ul>"},{"location":"security/security-headers/#development-vs-production","title":"Development vs Production","text":""},{"location":"security/security-headers/#production-mode","title":"Production Mode","text":"<p>Strict security headers with: - No eval() in JavaScript - HSTS enabled - Strict CSP - All security headers enforced</p>"},{"location":"security/security-headers/#development-mode","title":"Development Mode","text":"<p>Relaxed headers for local development with Vite: - Allows <code>'unsafe-eval'</code> for Vite HMR - Allows WebSocket connections (ws:, wss:) - HSTS disabled (no HTTPS required) - All other security headers remain strict</p>"},{"location":"security/security-headers/#testing-security-headers","title":"Testing Security Headers","text":""},{"location":"security/security-headers/#automated-testing-recommended","title":"Automated Testing (Recommended)","text":"<p>We integrate MDN HTTP Observatory directly into our test suite:</p> <pre><code>cd api\nnpm test observatory.test.ts\n</code></pre> <p>This runs 6 automated security tests including: - Overall security grade and score - Content-Security-Policy validation - X-Content-Type-Options check - X-Frame-Options check - Referrer-Policy check - Detailed test result logging</p> <p>Development Mode Results: - Expected Grade: C (relaxed CSP for Vite HMR) - Expected Score: 50/100 - Acceptable: 7/10 tests passing</p> <p>Production Mode Expectations: - Target Grade: A or better - Target Score: 70+/100 - All critical security tests passing</p>"},{"location":"security/security-headers/#local-testing","title":"Local Testing","text":"<p>Check headers locally:</p> <pre><code>curl -I http://localhost:5001/health\n</code></pre>"},{"location":"security/security-headers/#mozilla-http-observatory-manual","title":"Mozilla HTTP Observatory (Manual)","text":"<p>Test your deployed site manually:</p> <ol> <li>Visit: https://developer.mozilla.org/en-US/observatory/</li> <li>Enter your site URL</li> <li>Run the scan</li> <li>Target score: A grade or higher</li> </ol>"},{"location":"security/security-headers/#securityheaderscom","title":"SecurityHeaders.com","text":"<p>Alternative testing tool:</p> <ol> <li>Visit: https://securityheaders.com/</li> <li>Enter your site URL</li> <li>Check for all security headers</li> </ol>"},{"location":"security/security-headers/#implementation","title":"Implementation","text":"<p>The security headers are implemented in <code>api/src/middleware/securityHeaders.ts</code> using Helmet:</p> <pre><code>import helmet from 'helmet';\n\nexport function securityHeadersMiddleware(): RequestHandler {\n  return helmet({\n    contentSecurityPolicy: {\n      directives: {\n        defaultSrc: [\"'self'\"],\n        scriptSrc: [\"'self'\"],\n        // ... more directives\n      },\n    },\n    // ... more options\n  });\n}\n</code></pre> <p>Applied in <code>api/src/app.ts</code>:</p> <pre><code>// Production\napp.use(securityHeadersMiddleware());\napp.use(apiSecurityHeaders());\n\n// Development\napp.use(developmentSecurityHeaders());\napp.use(apiSecurityHeaders());\n</code></pre>"},{"location":"security/security-headers/#testing","title":"Testing","text":""},{"location":"security/security-headers/#unit-tests","title":"Unit Tests","text":"<p>Comprehensive test suite in <code>api/src/middleware/securityHeaders.test.ts</code>:</p> <ul> <li>17 security header tests</li> <li>Verifies all headers are present</li> <li>Checks header values match expectations</li> <li>Tests CSP directives</li> <li>Validates Mozilla Observatory requirements</li> </ul> <pre><code>cd api\nnpm test securityHeaders.test.ts\n</code></pre>"},{"location":"security/security-headers/#observatory-integration-tests","title":"Observatory Integration Tests","text":"<p>Automated MDN HTTP Observatory scanning in <code>api/src/middleware/observatory.test.ts</code>:</p> <ul> <li>6 automated Observatory tests</li> <li>Runs actual security scanner against local server</li> <li>Validates grade and score</li> <li>Tests specific security headers</li> <li>Provides detailed results</li> </ul> <pre><code>cd api\nnpm test observatory.test.ts\n</code></pre>"},{"location":"security/security-headers/#run-all-security-tests","title":"Run All Security Tests","text":"<pre><code>cd api\nnpm test -- --grep \"security|observatory\"\n</code></pre>"},{"location":"security/security-headers/#best-practices","title":"Best Practices","text":"<ol> <li>Never disable security headers in production</li> <li>Always test after deployment with Observatory</li> <li>Monitor CSP violations in production logs</li> <li>Keep Helmet up to date for latest security patches</li> <li>Review headers quarterly as security best practices evolve</li> </ol>"},{"location":"security/security-headers/#related-documentation","title":"Related Documentation","text":"<ul> <li>Security Overview</li> <li>Mozilla Observatory</li> <li>Helmet Documentation</li> <li>CSP Reference</li> </ul>"},{"location":"security/sessions/","title":"Sessions","text":"<p>Documentation coming soon...</p>"},{"location":"user-guide/overview/","title":"Overview","text":"<p>Documentation coming soon...</p>"},{"location":"user-guide/profile/","title":"Profile","text":"<p>Documentation coming soon...</p>"},{"location":"user-guide/search-browse/","title":"Search Browse","text":"<p>Documentation coming soon...</p>"},{"location":"user-guide/submitting-questions/","title":"Submitting Questions","text":"<p>Documentation coming soon...</p>"},{"location":"user-guide/teams/","title":"Teams","text":"<p>Documentation coming soon...</p>"},{"location":"user-guide/upvoting/","title":"Upvoting","text":"<p>Documentation coming soon...</p>"}]}